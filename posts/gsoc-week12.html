<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Twelfth week of developing code-generation in SymPy for GSoC.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Status update week 12 GSoC | Björn I. Dahlgren's personal page</title>
<link href="../assets/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/colorbox.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="http://bjodah.github.io/blog/posts/gsoc-week12.html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><meta name="description" itemprop="description" content="Twelfth week of developing code-generation in SymPy for GSoC.">
<meta name="author" content="Björn Dahlgren">
<link rel="prev" href="gsoc-week11.html" title="Status update week 11 GSoC" type="text/html">
<link rel="next" href="gsoc-report.html" title="GSoC 2017 Report" type="text/html">
<meta property="og:site_name" content="Björn I. Dahlgren's personal page">
<meta property="og:title" content="Status update week 12 GSoC">
<meta property="og:url" content="http://bjodah.github.io/blog/posts/gsoc-week12.html">
<meta property="og:description" content="Twelfth week of developing code-generation in SymPy for GSoC.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2017-08-21T19:30:00+02:00">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="SymPy">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://bjodah.github.io/blog/">

                <span id="blog-title">Björn I. Dahlgren's personal page</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../archive.html">Archive</a>
                </li>
<li>
<a href="../categories/index.html">Tags</a>
                </li>
<li>
<a href="../rss.xml">RSS feed</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
    <a href="gsoc-week12.rst" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Status update week 12 GSoC</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    Björn Dahlgren
            </span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2017-08-21T19:30:00+02:00" itemprop="datePublished" title="2017-08-21 19:30">2017-08-21 19:30</time></a></p>
                <p class="commentline">
        
    <a href="gsoc-week12.html#disqus_thread" data-disqus-identifier="cache/posts/170821-w12.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="gsoc-week12.rst" id="sourcelink">Source</a></p>

                <meta name="description" itemprop="description" content="Twelfth week of developing code-generation in SymPy for GSoC.">
</div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="section" id="working-on-new-ast-nodes">
<h2>Working on new AST nodes</h2>
<p><a class="reference external" href="https://github.com/sympy/sympy/pull/13100">#13100</a> is shaping up to
be the largest PR of my GSoC project. The design of the new AST nodes
especially (<tt class="docutils literal">Token</tt>) is really helpful. But there is still a design
issue: some nodes would naturally take different arguments depending
on what language is being targeted. So I came to the conclusion that I
needed some way of representing attributes. The solution I came up
with would be to have a slightly more capable <tt class="docutils literal">Node</tt> class
(subclassing <tt class="docutils literal">Token</tt>) which would in turn be subclassed from for
nodes that need attributes.</p>
<p>I also enhanced the printing of both of these classes and introduced a
<tt class="docutils literal">String</tt> class, which in contrast to <tt class="docutils literal">Symbol</tt> does not accept
assumptions in its constructor, and does not have implied printing
rules of sub- &amp; superscript etc.</p>
</div>
<div class="section" id="adding-codegen-algorithms">
<h2>Adding <tt class="docutils literal">.codegen.algorithms</tt>
</h2>
<p>A new submodule <tt class="docutils literal">.codegen.algorithms</tt> was added, containing a AST
generating function for Newton's method. This makes a nice design
target for both the printers and AST nodes: being able to express the
same AST in differnt languages is definitely an indication that we
have a versatile printing system.</p>
</div>
<div class="section" id="compiling-code-on-the-fly">
<h2>Compiling code on the fly</h2>
<p>Introducing the <tt class="docutils literal">.codegen.algorithms</tt> module also made the need to
test generated code during CI runs clear. Jason Moore has previously
mentioned that he thinks one of my python packages (<a class="reference external" href="https://github.com/bjodah/pycompilation">pycompilation</a>) would fit nicely into
SymPy. I've been a bit relucatant to port it over since I have felt
that it has not seen enough testing (and only under Linux). But now
there was a need and we could start by making it an internal package
only used by our own tests. That way it will get to mature without
having to worry about deprecation cycles. And once more platforms are
added to SymPy's CI configuration it would also see testing on other
platforms (using AppVeyor for SymPy has been discussed for a long
while now).</p>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../categories/python.html" rel="tag">Python</a></li>
            <li><a class="tag p-category" href="../categories/sympy.html" rel="tag">SymPy</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="gsoc-week11.html" rel="prev" title="Status update week 11 GSoC">Previous post</a>
            </li>
            <li class="next">
                <a href="gsoc-report.html" rel="next" title="GSoC 2017 Report">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="bjodahgithubio",
            disqus_url="http://bjodah.github.io/blog/posts/gsoc-week12.html",
        disqus_title="Status update week 12 GSoC",
        disqus_identifier="cache/posts/170821-w12.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="bjodahgithubio";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2017         <a href="mailto:bjodah@gmail.com">Björn Dahlgren</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../assets/js/jquery.min.js"></script><script src="../assets/js/bootstrap.min.js"></script><script src="../assets/js/moment-with-locales.min.js"></script><script src="../assets/js/fancydates.js"></script><script src="../assets/js/jquery.colorbox-min.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
